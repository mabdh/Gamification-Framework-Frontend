<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gamification Manager</title>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Bootstrap stylesheet import -->
  <link href="https://netdna.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">

  <!-- import jQuery for AJAX calls -->
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

<!--Pulling Awesome Font -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
  <!-- Inter Widget Communication library import-->
  <!-- <script type="text/javascript" src="http://dbis.rwth-aachen.de/gadgets/iwc/lib/iwc.js"></script> -->
  <!-- style information -->
  <!-- <link rel="stylesheet" href="http://localhost:80/frontendComponentPersistenceWidget/css/style.css"> -->
  <!-- import the client library -->
  <!-- <script type="text/javascript" src="http://localhost:80/frontendComponentPersistenceWidget/js/las2peerWidgetLibrary.js"></script> -->
  <!-- import application script -->
  <!-- <script type="text/javascript" src="http://localhost:80/frontendComponentPersistenceWidget/js/applicationScript.js"></script> -->

  <!-- Additional widget specific imports -->
  <!-- lodash is needed for the syncmeta-specific model import / export functionality -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.9.3/lodash.min.js"></script>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/login.css">
      <!-- Custom CSS -->
  <link href="css/sb-admin.css" rel="stylesheet">
  <link href="css/jquery.bootgrid.min.css" rel="stylesheet">
<!--  <link rel="stylesheet" href="./css/bootstrap-extension.css">  -->

	  <!-- import client library for service -->
  	<script type="text/javascript" src="js/client.js"></script>
	<script type="text/javascript" src="js/gamification/gamemanagerui.js"></script>
	<script type="text/javascript" src="js/gamification/achievement.js"></script>
	<script type="text/javascript" src="js/gamification/badge.js"></script>
	<script type="text/javascript" src="js/gamification/level.js"></script>
	<script type="text/javascript" src="js/gamification/action.js"></script>
	<script type="text/javascript" src="js/gamification/quest.js"></script>
	<script type="text/javascript" src="js/gamification/gamificationelements.js"></script>

	<script type="text/javascript" src="js/bootstrap-notify.min.js"></script>
	<script type="text/javascript" src="js/jquery.bootgrid.js"></script>
	<script type="text/javascript" src="js/jquery.bootgrid.fa.min.js"></script>
	<script type="text/javascript" src="js/validator.min.js"></script>
	
	
<!--  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script> -->
 
</head>
<body>
   

<div class="container" id="loginview">
    <div class="row">
        <div class="col-md-offset-5 col-md-3">
            <div class="form-login">
            <h4>Gamification Manager</h4>
            <div class="wrapper">
            <button class="oidc-signin"
				         style="padding:5px; border-radius: 4px; border:1px;margin:15px 5px;"
				         data-callback="signinCallback"
				         data-name="Learning Layers"
				    	 data-logo="http://learning-layers.eu/wp-content/themes/learninglayers/images/logo.png"
				         data-server="https://api.learning-layers.eu/o/oauth2"
				         data-clientid="768f478e-39cf-4b26-916d-8359850c9099"
				         data-size="sm"
				         data-scope="openid phone email address profile"><img style="margin-right:5px;" src="./img/logo.png" height="16px"> Sign in with <i>Learning Layers</i>
				    	
				    </button>
            </div>
            </div>
        
        </div>
    </div>
</div>


<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" id="headerbutton">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">Gamification Manager</a>
    </div>
    <ul class="nav navbar-right top-nav">
    	<li>
   		<button class="oidc-signin"
	         style="padding:5px; border-radius: 4px; border:1px;margin:10px 15px;"
	         data-callback="signinCallback"
	         data-name="Learning Layers"
	    	 data-logo="http://learning-layers.eu/wp-content/themes/learninglayers/images/logo.png"
	         data-server="https://api.learning-layers.eu/o/oauth2"
	         data-clientid="768f478e-39cf-4b26-916d-8359850c9099"
	         data-size="default"
	         data-scope="openid phone email address profile"><img style="margin-right:5px;" src="./img/logo.png" height="16px"> Sign in with <i>Learning Layers</i>
		</button>
		<li class="dropdown">
	        <a href="#" class="dropdown-toggle" data-toggle="dropdown" id="apptitle"><i class="fa fa-user"></i> AppID <b class="caret"></b></a>
	        <ul class="dropdown-menu">
	            <li>
	                <a href="#" data-toggle="modal" data-target="#settingsmodal"><i class="fa fa-fw fa-gear"></i> Settings</a>
	            </li>
	            <li id="backtoappselection">
	                <a href="#" ><i class="fa fa-gamepad" aria-hidden="true"></i></i> App selection</a>
	            </li>
	        </ul>
    	</li>
    </ul>
</nav>
<div id="page-wrapper">
	<div class="container-fluid" id="appselection">
		<div class="row">
			<div class="col-md-4">
				<h3>All applications</h3>
				<div class="table-responsive" id='list_global_apps'>
					<table class="table table-striped table-bordered table-hover table-can-be-selected" id='list_global_apps_table'>
						<thead>
							<tr>
								<th>App ID</th>
								<th>Description</th>
								<th>Community Type</th>
						</thead>
						
						<tbody id='globalappstbody'>
						</tbody>
					</table>
				</div>
			</div>
			<div class="col-md-1">
				<div class="ortext-container">
			
				<div class="ortext">
					<h3> or </h3>
				</div>
				</div>
			
			</div>
			<div class="col-md-4">
				<h3>You are registered in the applications below</h3>
				<div class="table-responsive" id='list_registered_apps'>
						<table class="table table-striped table-bordered table-hover table-can-be-selected" id='list_registered_apps_table'>
							<thead>
								<tr>
									<th>App ID</th>
									<th>Description</th>
									<th>Community Type</th>
							</thead>
							
							<tbody id='registeredappstbody'>
							</tbody>

						</table>
				</div>
			</div>
			<div class="col-md-1">

				<div class="ortext-container">
				<div class="ortext">
					<h3> or </h3>
				</div>
				</div>
			</div>
			<div class="col-md-2">
				<div class="ortext-container">
				<div class="ortext">
					<button type="button" class="btn btn-success text-center" data-toggle="modal" data-target="#createnewapp">Create New Application</button>
				</div>
				</div>
				
		
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="alertglobalapp" role="dialog">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Select The Existing Application</h4>
			</div>
			<div class="modal-body">
				<p id="alertglobalapp_text"></p>
	        </div>
	        <div class="modal-footer">
	         
				<button type="button" class="btn btn-primary" value="Open" >Open</button>
	        </div>
	    </div>
	</div>
</div>

<div class="modal fade" id="alertregisteredapp" role="dialog">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Select Your Registered Application</h4>
			</div>
			<div class="modal-body">
				<p id="alertregisteredapp_text"></p>
				
	        </div>
	         <div class="modal-footer">
	          <button type="button" class="btn btn-primary" value="Open" >Open</button>
	        </div> 
	    </div>
	</div>
</div>

<div class="modal fade" id="alertdeleteapp" role="dialog">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Delete the application</h4>
			</div>
			<div class="modal-body">
				<p id="alertdeleteapp_text"></p>
				
	        </div>
	         <div class="modal-footer">
	          <button id='' type="button" class="btn btn-primary" onclick='deleteApplicationAlertHandler()' value="Delete" >Delete</button>
	        </div> 
	    </div>
	</div>
</div>

<div class="modal fade" id="alertremoveapp" role="dialog">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Remove the application</h4>
			</div>
			<div class="modal-body">
				<p id="alertremoveapp_text"></p>
				
	        </div>
	         <div class="modal-footer">
	          <button id='' type="button" class="btn btn-primary" onclick='removeApplicationAlertHandler()' value="Remove" >Remove</button>
	        </div> 
	    </div>
	</div>
</div>

<div class="modal fade" id="createnewapp" role="dialog">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Create New Application</h4>
			</div>
			<div class="modal-body">
				<form method="POST" enctype="multipart/form-data" method="post" id="createnewappform" class="form-horizontal" role="form">
					<div class="form-group">
						<label class="col-sm-2 control-label">Application ID:</label>
						<div class="col-sm-10">
							<input type="text" class="form-control" maxlength="20" id="createnewapp_appid" name="appid" placeholder="My Gamification" required>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label">Community Type:</label>
						<div class="col-sm-10">
							<input type="text" class="form-control" maxlength="20" id="createnewapp_commtype" name="commtype" placeholder="my_community">
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label">Application Description:</label>
						<div class="col-sm-10">
							<textarea class="form-control" rows="3" maxlength="50" id="createnewapp_appdesc" name="appdesc" placeholder="This is the application description"></textarea>
						</div>
					</div>
					<div class="form-group">        
				    	<div class="col-sm-offset-2 col-sm-10">
				        	<button type="submit" class="btn btn-primary" value="Create" >Create</button>
				      	</div>
				    </div>
				</form>
	        </div>
	        <!-- <div class="modal-footer">
	          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        </div> -->
	    </div>
	</div>
</div>

<div class="modal fade" id="settingsmodal" role="dialog">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Settings</h4>
			</div>
			<div class="modal-body">
				<div class="table-responsive" id='list_registered_apps_settings'>
						<h4>Manage Your Registered Applications</h4>
						<table class="table table-striped table-hover" id='list_registered_apps_settings_table'>
							<thead>
								<tr>
									<th>App ID</th>
									<th>Description</th>
									<th>Community Type</th>
									<th></th>
									<th></th>
							</thead>
							
							<tbody id='registeredappssettingstbody'>
						
							</tbody>

						</table>
				</div>
	        </div>
	        <div class="modal-footer">
	         
				<button type="button" class="btn btn-primary" data-dismiss="modal" value="OK" >OK</button>
	        </div>
	    </div>
	</div>
</div>

<div id="maincontent">	
</div>

            <!-- /.container-fluid -->


<div id="modalspinner" style="display: none">
    <div class="center">
        <img alt="" src="./img/loader.svg" />
    </div>
</div>
<!-- OpenID Connect Button - Step 2: resolve dependencies to jQuery, bootstrap, jsjws and jsrsasign -->
		
		<!-- import jQuery for AJAX calls (must) -->
		<!-- <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script> -->
		
		<!-- import Bootstrap for responsive UI (must) -->
		<!-- <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script> -->
		
<script type="text/javascript" src="./js/js.cookie.js"></script>

<!-- import JWS and JSRSASIGN (must) -->
<script type="text/javascript" src="./js/jsjws/jws-2.0.min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/ext/base64-min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/base64x-1.1.min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/ext/jsbn-min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/ext/jsbn2-min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/asn1hex-1.1.min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/crypto-1.0.min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/ext/rsa-min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/ext/rsa2-min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/rsapem-1.1.min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/rsasign-1.2.min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/x509-1.1.min.js"></script>
<script type="text/javascript" src="./js/jsrsasign/crypto-1.1.min.js"></script>
		
	<!-- 	<script type="text/javascript">
			// OpenID Connect Button - Step 4: implement a callback function
			function signinCallback(result) {
				if(result === "success"){
					// at this point, developers have access to several pieces of information
					// relevant to OpenID Connect (see ./oidc-button.js)
					console.log("OpenID Connect Provider Configuration:");
					console.log(oidc_provider_config);
					console.log("OpenID Connect User Info:");
					console.log(oidc_userinfo);
					console.log("OpenID Connect ID Token:");
					console.log(oidc_idtoken);
					
					$("#status").html("Hello, " + oidc_userinfo.name + "!");
				} else {
					console.log("not signed in...");
					console.log(result);
					$("#status").html("Do I know you?!");
				}
			}
		</script> -->
		
		<!--  
		<!-- OpenID Connect Button - Step 2: add this script element right before closing </body> tag -->
<script type="text/javascript">
  (function() {

   var po = document.createElement('script');
   po.type = 'text/javascript'; 
   po.async = true;
   po.src = './js/oidc-button.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(po, s);
 })();
</script>
</body>
</html>