<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>d</title>
  <head>


  <link href="https://netdna.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <link href="vis.css" rel="stylesheet"> 
  <!-- import jQuery for AJAX calls -->
 	<script src="https://code.jquery.com/jquery-2.1.3.min.js" type="text/javascript"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
   <!-- ========= -->
  <!-- Libraries -->
  <!-- ========= -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js" type="text/javascript"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.3.1/jquery.bootgrid.min.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.3.1/jquery.bootgrid.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.3.1/jquery.bootgrid.fa.min.js"></script>

  <script type="text/javascript" src="./js/client.js"></script> 
  <script type="text/javascript" src="./js/vis.js"></script> 


</head>
<body>

<div class="form-login">
	    <h4>Some App</h4>
	    <div class="wrapper">
	    <button class="oidc-signin"
			         style="padding:5px; border-radius: 4px; border:1px;margin:15px 5px;"
			         data-callback="signinCallback"
			         data-name="Learning Layers"
			    	 data-logo="http://learning-layers.eu/wp-content/themes/learninglayers/images/logo.png"
			         data-server="https://api.learning-layers.eu/o/oauth2"
			         data-clientid="768f478e-39cf-4b26-916d-8359850c9099"
			         data-size="sm"
			         data-scope="openid phone email address profile"><img style="margin-right:5px;" src="./img/logo.png" height="16px"> Sign in with <i>Learning Layers</i>
			    	
			    </button>
	    </div>
    </div>

<div class="panel panel-primary draggable-panel toolbar-panel ui-draggable ui-resizable" id="visualization-panel">
    <div class="panel-heading lang-panel-header-tools">Gamification Visualization <i class="fa fa-times pull-right close-panel" id="close-toolbox-tools"></i><i class="fa pull-right fa-chevron-down" id="toggle-toolbox-tools"></i>
    </div>

 <div class="panel-body">
    <div id="container-text">
    You are not authenticated. Sign in first.
    </div>
 	<div class="container-fluid " id="vis_container">
		<div class="row">
				<div class="col-md-12">
					<div id="content">
					    <ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
					        <li class="active"><a href="#vishome" data-toggle="tab">Home</a></li>
					        <li "><a href="#visbadge" data-toggle="tab">Your badges</a></li>
					        <li><a href="#visachievement" data-toggle="tab">Your achievements</a></li>
					        <li><a href="#visquest" data-toggle="tab">Your quests</a></li>
					        <li ><a href="#vislocalleaderboard" data-toggle="tab">Leaderboard</a></li>
					        <li><a href="#visgloballeaderboard" data-toggle="tab">Global Leaderboard</a></li>
					    </ul>
					    <div id="my-tab-content" class="tab-content">

				<div class="tab-pane active" id="vishome">
		           	<div class="container-fluid" id="user-main-status">
						<div class="row">
						    <label class="col-sm-6 text-right">User Name</label>
						    <div class="col-sm-6">
						      <p id="user-name" class="form-control-static text-left">User1</p>
							  <!-- class form-control-static to display static text -->
						    </div>
						</div>
						<div class="row">
						    <label class="col-sm-6 text-right">Point</label>
						    <div class="col-sm-6">
						      <p id="user-point" class="form-control-static text-left">Point</p>
							  <!-- class form-control-static to display static text -->
						    </div>
						</div>
						<div class="row">
						    <label id="user-current-level" class="col-sm-4 text-right">Level</label>
						    <div class="col-sm-4">
						      <div class="progress">
							  <div id="user-level-progress" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
							    60%
							  </div>
							</div>
							</div>
						    <label id="user-next-level" class="col-sm-4 text-left text-muted">Level</label>
						</div>
					</div>

		        </div>
		        <div class="tab-pane" id="visbadge">
		           <div class="container-fluid" style="margin:20px 0px;">
							<script id="badgeTemplate" type="text/template">
								<a class="thumbnail" href="#" data-toggle="tooltip" data-placement="top" title="<%= name%>" >
							    	<img src="<%= imagePath %>" style="display: block;
							    	max-width:100px;max-height:100px;width: auto;
							    	height: auto;margin:0 auto;"/>
							    </a>
							</script>
				        <div class="row" id="badge-row-container">
				       		
<!-- 				            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
				                <a class="thumbnail" href="#">
				                    <img class="img-responsive" src="http://placehold.it/400x300" alt="">
				                </a>
				            </div> -->
	
				        </div>
				    </div>
		        </div>
		        <div class="tab-pane" id="visachievement">

			        <script id="achievementTemplate" type="text/template">
				        <div class="panel-heading">
			                <h4 class="panel-title">
			                    <a data-toggle="collapse" data-parent="#accordion" href="#<%= id%>"><%= name%></a>
			                </h4>
			            </div>
			            <div id="<%= id%>" class="panel-collapse collapse">
			                <div class="panel-body">
			                	<div class="container-fluid">
			                		<div class="row">
			                			<div class="col-md-6">
			                				<label>
			                					Description
			                				</label>
						                    <p><%= description%></p>
			                				<label>
			                					Point value
			                				</label>
						                    <p><%= pointValue%></p>
					                    </div>

			                			<div class="col-md-6">
			                				<label>
			                					Badge
			                				</label>
					                    	<img src="<%= getBadgeImage(badgeId) %>" style="display: block;max-width:200px;max-height:200px;width: auto;
					                    	height: auto;"/>
					                    </div>
				                    </div>
			                    </div>
			                </div>
			            </div>
			        </script>
			        <br>

			        <div class="panel-group achievement-row-container" id="accordion" >
			        </div>
		        </div>
		        <div class="tab-pane" id="visquest">
		        	<script id="questCompletedTemplate" type="text/template">
			        	<div class="panel-heading"><%= name%></div>
						<div class="panel-body">
							<p><%= description%></p>
							<p><%= achievementId%></p>
						</div>
					</script>
					<script id="questRevealedTemplate" type="text/template">
			        	<div class="panel-heading"><%= name%></div>
						<div class="panel-body">
							<p><%= description%></p>
							<p><%= achievementId%></p>
						</div>

					</script>
					<script id="questProgressTemplate" type="text/template">
							<ul>
						       <% for(var i = 0; i < actionArray.length; i++) { %>
						           <li class="<% if(actionArray[i].isCompleted){ %> 
						           		text-success
						           		<% } else { %>
						           		text-danger
						           		<% } %>
						           ">
						           <%= actionArray[i].action %> - <%= actionArray[i].times %> 
						           <% if(actionArray[i].times==1){ %>
						           time
						           <%} else {%>
						           times
						           <%}%>
						           </li>
						       <% } %>
						     </ul>
						      <div class="progress">
								  <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="<%= progress %>" aria-valuemin="0" aria-valuemax="100" style="width: <%= progress %>%;">
								    <%= progress %>%
								  </div>
							</div>
					</script>
					<br>
		        	<div class="container-fluid">	
		            	<div class="row" id="quest-row-container">
                			<div class="col-md-6">
                				<div class="panel panel-default" >
								  <div class="panel-heading">Revealed Quests</div>
								  <div class="panel-body" id="quest-revealed">Panel Content</div>
								</div>
		                    </div>

                			<div class="col-md-6">
                				<div class="panel panel-default" >
								  <div class="panel-heading">Completed Quest</div>
								  <div class="panel-body" id="quest-completed">Panel Content</div>
								</div>
		                    </div>
	                    </div>
		            </div>
		        </div>
					        <div class="tab-pane" id="vislocalleaderboard">
					            <table id="list_leaderboard" class="table table-condensed table-striped" data-toggle="bootgrid">
								    <thead>
								        <tr>
								            <th data-column-id="rank" data-order="asc" data-type="numeric">#</th>
								            <th data-column-id="memberId" data-identifier="true" data-type="string">Member Name</th>
								           	<th data-column-id="pointValue" data-type="numeric">Point</th>
								        </tr>
								    </thead>
								</table>
					        </div>
					        <div class="tab-pane" id="visgloballeaderboard">
					            <p>orange orange orange orange orange</p>
					        </div>
					    </div>
					</div>
				</div>
		</div>
		<div class="row">
			 <ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
		        
		    </ul>
		    
		</div>
	</div>
</div>



<div class="modal fade" id="badgeimagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content"> 
      <div class="modal-body text-center">


      </div>
    </div>
  </div>
</div>
	
</div>


<script id="badgeModal" type="text/template">
      <button type="button" class="close" data-dismiss="modal">&times;</button>
        <img src="<%= imagePath %>" class="imagepreview" style="margin: 0 auto;" >
        <br>
        <h4><strong><%= name%></strong></h4>
        <p><%= description%></p>
</script>

 <!--  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
 <script type="text/javascript" src="jquery-ui.min.js"></script>
 -->
 
	 <!-- import JWS and JSRSASIGN (must) -->
	<script type="text/javascript" src="./js/jsjws/jws-2.0.min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/ext/base64-min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/base64x-1.1.min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/ext/jsbn-min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/ext/jsbn2-min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/asn1hex-1.1.min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/crypto-1.0.min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/ext/rsa-min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/ext/rsa2-min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/rsapem-1.1.min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/rsasign-1.2.min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/x509-1.1.min.js"></script>
	<script type="text/javascript" src="./js/jsrsasign/crypto-1.1.min.js"></script>


	<script type="text/javascript">

    </script>
	<script type="text/javascript">
		(function() {

		var po = document.createElement('script');
		po.type = 'text/javascript'; 
		po.async = true;
		po.src = './js/oidc-button.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(po, s);
		})();
	</script>
</body>
</html>